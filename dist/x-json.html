<!--
  <x-json>

  @element x-json
  @demo https://chris-l.github.io/x-json/
--><html><head><template id="x-json">
  <style>
    :host .hidden, ::shadow .hidden {
      display: none;
    }

    :host .prop, ::shadow .prop {
      font-weight: bold;
    }

    :host .null, ::shadow .null {
      color: red;
    }

    :host .bool, ::shadow .bool {
      color: blue;
    }

    :host .num, ::shadow .num {
      color: blue;
    }

    :host .string, ::shadow .string {
      color: green;
      white-space: pre-wrap;
    }

    :host .collapser, ::shadow .collapser {
      position: absolute;
      left: -1em;
      cursor: pointer;
      -moz-user-select: none;
      color: rgb(249, 39, 83);
      text-decoration: none;
    }

    :host .q, ::shadow .q {
      display: inline-block;
      width: 0px;
      color: transparent;
    }

    :host li, ::shadow li {
      position: relative;
    }

    :host .error, ::shadow .error {
      -moz-border-radius: 8px;
      border: 1px solid #970000;
      background-color: #F7E8E8;
      margin: .5em;
      padding: .5em;
    }

    :host .errormessage, ::shadow .errormessage {
      font-family: monospace;
    }

    :host {
      font-family: monospace;
      font-size: 1.1em;
      white-space: pre-wrap;
    }

    :host ul, ::shadow ul {
      list-style: none;
      margin: 0 0 0 2em;
      padding: 0;
    }

    :host h1, ::shadow h1 {
      font-size: 1.2em;
    }

    :host .callback + #json, ::shadow .callback + #json {
      padding-left: 1em;
    }

    :host .callback, ::shadow .callback {
      font-family: monospace;
      color: #A52A2A;
    }
  </style>
  <div id="container"></div>
</template>
<script>!function(){"use strict";function a(a,b,c){var d,f,g,h,j;a.root=a.createShadowRoot(),d=e.querySelector("#"+b),a.root.appendChild(d.content.cloneNode(!0)),h=/<style(.|\n)*<\/style>/m,window.ShadowDOMPolyfill&&h.test(d.innerHTML)&&(j=document.createElement("head"),j.innerHTML=d.innerHTML,f=i(j.getElementsByTagName("style"),function(a){return a.innerHTML.replace(/:host/gm,c||b).replace(/::content/gm,"").trim()}).join("\n"),j=null,g=document.createElement("style"),g.innerHTML=f,document.getElementsByTagName("head")[0].appendChild(g))}function b(a,b){function c(a){return a.replace(/([A-Z])/g,"-$1").toLowerCase()}function d(a,b){return b.type===Number?parseInt(a,10):b.type===String?String(a):a}a.props={},Object.keys(b).forEach(function(e){var f,g,h;g=b[e],f=c(e),h=g.value,"function"==typeof h&&(h=h()),null===a.getAttribute(f)&&("object"!=typeof a.props[e]?a.setAttribute(f,a.props[e]):a.setAttribute(f,h)),Object.defineProperty(a,e,{get:function(){return a.props[e]||d(a.getAttribute(f),g)||h},set:function(b){a.props[e]=b,"object"!=typeof b&&a.setAttribute(f,b),"function"==typeof a[g.observer]&&a[g.observer](b)}})})}function c(a){return Array.isArray(a)||"object"==typeof a&&null!==a}function d(a){var b,e,f,g;return g='<div class="collapser">-</div>',Array.isArray(a)?(b='[<ul class="array collapsible">',e=a.map(function(a){var b=c(a)?g:"";return"<li>"+b+d(a)}),f=function(a){var b="</ul>]";return a.length>0?"</li>"+b:b}(e),b+e.join(",</li>")+f):"object"==typeof a?null===a?'<span class="null">null</span>':(b='{<ul class="obj collapsible">',e=Object.keys(a).map(function(b){var e=c(a[b])?g:"";return"<li>"+e+'<span class="prop"><span class="q">"</span>'+b+'<span class="q">"</span></span>: '+d(a[b])}),f=function(a){var b="</ul>}";return a.length>0?"</li>"+b:b}(e),b+e.join(",</li>")+f):"number"==typeof a?'<span class="num">'+JSON.stringify(a)+"</span>":"string"==typeof a?'<span class="string">'+JSON.stringify(a)+"</span>":"boolean"==typeof a?'<span class="bool">'+JSON.stringify(a)+"</span>":"<span>"+JSON.stringify(a,null," ")+"</span>"}var e,f,g,h,i;i=Function.prototype.call.bind(Array.prototype.map),e=(document._currentScript||document.currentScript).ownerDocument,f=function(a){a.addEventListener("click",function(){var a=this.parentNode.getElementsByTagName("ul")[0];"none"===a.style.display?(a.style.display="block",this.innerHTML="-"):(a.style.display="none",this.innerHTML="+")})},g=Object.create(HTMLElement.prototype),h={data:{value:"",observer:"dataChanged"}},g.dataChanged=function(a){var b=this.root.getElementById("container");return""===a?void(b.innerHTML=""):("string"!=typeof a&&(a=JSON.stringify(a)),b.innerHTML=d(JSON.parse(a)),void function(a){var b=a.querySelectorAll(".collapser");Array.prototype.forEach.call(b,f)}(b))},g.createdCallback=function(){a(this,"x-json"),b(this,h),this.dataChanged(this.data)},document.registerElement("x-json",{prototype:g})}();</script>
</head><body></body></html>